


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.3">
    
    
      
        <title>ipr.ipr - IPR (Python)</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.947af8d5.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ipripr" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../.." title="IPR (Python)" class="md-header-nav__button md-logo" aria-label="IPR (Python)">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            IPR (Python)
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              ipr.ipr
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/bcgsc/pori_ipr_python/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="IPR (Python)" class="md-nav__button md-logo" aria-label="IPR (Python)">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    IPR (Python)
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/bcgsc/pori_ipr_python/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="User Manual" class="md-nav__link">
      User Manual
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../variant_inputs/" title="Variant Input Files" class="md-nav__link">
      Variant Input Files
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Reference
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Reference" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1" checked>
    
    <label class="md-nav__link" for="nav-3-1">
      Ipr
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Ipr" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Ipr
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../annotate/" title="ipr.annotate" class="md-nav__link">
      ipr.annotate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../inputs/" title="ipr.inputs" class="md-nav__link">
      ipr.inputs
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        ipr.ipr
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="ipr.ipr" class="md-nav__link md-nav__link--active">
      ipr.ipr
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#report_kb_sections" class="md-nav__link">
    REPORT_KB_SECTIONS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approved_evidence_levels" class="md-nav__link">
    APPROVED_EVIDENCE_LEVELS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default_url" class="md-nav__link">
    DEFAULT_URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default_limit" class="md-nav__link">
    DEFAULT_LIMIT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-iprconnection" class="md-nav__link">
    class IprConnection
  </a>
  
    <nav class="md-nav" aria-label="class IprConnection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iprconnectionrequest" class="md-nav__link">
    IprConnection.request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iprconnectionpost" class="md-nav__link">
    IprConnection.post()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iprconnectionset_analyst_comments" class="md-nav__link">
    IprConnection.set_analyst_comments()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter_structural_variants" class="md-nav__link">
    filter_structural_variants()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert_statements_to_alterations" class="md-nav__link">
    convert_statements_to_alterations()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find_variant" class="md-nav__link">
    find_variant()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select_expression_plots" class="md-nav__link">
    select_expression_plots()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_key_alterations" class="md-nav__link">
    create_key_alterations()
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../main/" title="ipr.main" class="md-nav__link">
      ipr.main
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../summary/" title="ipr.summary" class="md-nav__link">
      ipr.summary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../types/" title="ipr.types" class="md-nav__link">
      ipr.types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../util/" title="ipr.util" class="md-nav__link">
      ipr.util
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#report_kb_sections" class="md-nav__link">
    REPORT_KB_SECTIONS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approved_evidence_levels" class="md-nav__link">
    APPROVED_EVIDENCE_LEVELS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default_url" class="md-nav__link">
    DEFAULT_URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default_limit" class="md-nav__link">
    DEFAULT_LIMIT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-iprconnection" class="md-nav__link">
    class IprConnection
  </a>
  
    <nav class="md-nav" aria-label="class IprConnection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iprconnectionrequest" class="md-nav__link">
    IprConnection.request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iprconnectionpost" class="md-nav__link">
    IprConnection.post()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iprconnectionset_analyst_comments" class="md-nav__link">
    IprConnection.set_analyst_comments()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter_structural_variants" class="md-nav__link">
    filter_structural_variants()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert_statements_to_alterations" class="md-nav__link">
    convert_statements_to_alterations()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find_variant" class="md-nav__link">
    find_variant()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select_expression_plots" class="md-nav__link">
    select_expression_plots()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_key_alterations" class="md-nav__link">
    create_key_alterations()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bcgsc/pori_ipr_python/edit/master/docs/reference/ipr/ipr.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="ipripr">ipr.ipr</h1>
<p>upload variant and report information to IPR</p>
<h2 id="report_kb_sections">REPORT_KB_SECTIONS</h2>
<pre><code class="python">REPORT_KB_SECTIONS = IterableNamespace(
    therapeutic='therapeutic',
    prognostic='prognostic',
    biological='biological',
    unknown='unknown',
    novel='novel',
    diagnostic='diagnostic',
)
</code></pre>

<h2 id="approved_evidence_levels">APPROVED_EVIDENCE_LEVELS</h2>
<pre><code class="python">APPROVED_EVIDENCE_LEVELS = {
    # sourceIds of levels by source name
    'oncokb': ['1', 'r1'],
    'profyle': ['t1'],
    'cancer genome interpreter': [
        'cpic guidelines',
        'european leukemianet guidelines',
        'fda guidelines',
        'nccn guidelines',
        'nccn/cap guidelines',
</code></pre>

<h2 id="default_url">DEFAULT_URL</h2>
<pre><code class="python">DEFAULT_URL = 'https://iprstaging-api.bcgsc.ca/api'
</code></pre>

<h2 id="default_limit">DEFAULT_LIMIT</h2>
<pre><code class="python">DEFAULT_LIMIT = 1000
</code></pre>

<h2 id="class-iprconnection">class IprConnection</h2>
<h3 id="iprconnectionrequest">IprConnection.request()</h3>
<p>Request wrapper to handle adding common headers and logging</p>
<pre><code class="python">def request(self, endpoint: str, method: str = 'GET', **kwargs) -&gt; Dict:
</code></pre>

<p><strong>Args</strong></p>
<ul>
<li>endpoint (<code>str</code>): api endpoint, excluding the base uri</li>
<li>method (<code>str</code>): the http method. Defaults to 'GET'.</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><code>Dict</code>: the json response as a python dict</li>
</ul>
<h3 id="iprconnectionpost">IprConnection.post()</h3>
<p>Convenience method for making post requests</p>
<pre><code class="python">def post(self, uri: str, data: Dict = {}, **kwargs) -&gt; Dict:
</code></pre>

<p><strong>Args</strong></p>
<ul>
<li>uri (<code>str</code>)</li>
<li>data (<code>Dict</code>)</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><code>Dict</code></li>
</ul>
<h3 id="iprconnectionset_analyst_comments">IprConnection.set_analyst_comments()</h3>
<p>Update report comments to an existing report</p>
<p>TODO:
Add to main upload.
Pending: https://www.bcgsc.ca/jira/browse/DEVSU-1177</p>
<pre><code class="python">def set_analyst_comments(self, report_id: str, data: Dict) -&gt; Dict:
</code></pre>

<p><strong>Args</strong></p>
<ul>
<li>report_id (<code>str</code>)</li>
<li>data (<code>Dict</code>)</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><code>Dict</code></li>
</ul>
<h2 id="filter_structural_variants">filter_structural_variants()</h2>
<p>Filter structural variants to remove non-high quality events unless they are matched/annotated or
they involve a gene that is a known fusion partner</p>
<pre><code class="python">def filter_structural_variants(
    structural_variants: List[IprStructuralVariant],
    kb_matches: List[KbMatch],
    gene_annotations: List[IprGene],
) -&gt; List[IprStructuralVariant]:
</code></pre>

<p><strong>Args</strong></p>
<ul>
<li>structural_variants (List[<a href="../types/#class-iprstructuralvariant">IprStructuralVariant</a>])</li>
<li>kb_matches (List[<a href="../types/#class-kbmatch">KbMatch</a>])</li>
<li>gene_annotations (List[<a href="../types/#class-iprgene">IprGene</a>])</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>List[<a href="../types/#class-iprstructuralvariant">IprStructuralVariant</a>]</li>
</ul>
<h2 id="convert_statements_to_alterations">convert_statements_to_alterations()</h2>
<p>Given a set of statements matched from graphkb, convert these into their IPR equivalent representations</p>
<pre><code class="python">def convert_statements_to_alterations(
    graphkb_conn: GraphKBConnection,
    statements: List[Statement],
    disease_name: str,
    variant_matches: Iterable[str],
) -&gt; List[KbMatch]:
</code></pre>

<p><strong>Args</strong></p>
<ul>
<li>graphkb_conn (<code>GraphKBConnection</code>): the graphkb connection object</li>
<li>statements (<code>List[Statement]</code>): list of statement records from graphkb</li>
<li>disease_name (<code>str</code>): name of the cancer type for the patient being reported on</li>
<li>variant_matches (<code>Iterable[str]</code>): the list of RIDs the variant matched for these statements</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>List[<a href="../types/#class-kbmatch">KbMatch</a>]: IPR graphkb row representations Notes: - only report disease matched prognostic markers https://www.bcgsc.ca/jira/browse/GERO-72</li>
</ul>
<p><strong>Raises</strong></p>
<ul>
<li><code>ValueError</code>: could not find the disease type in GraphKB</li>
</ul>
<h2 id="find_variant">find_variant()</h2>
<p>Find a variant in a list of variants by its key and type</p>
<pre><code class="python">def find_variant(all_variants: List[IprVariant], variant_type: str, variant_key: str) -&gt; IprVariant:
</code></pre>

<p><strong>Args</strong></p>
<ul>
<li>all_variants (List[<a href="../types/#iprvariant">IprVariant</a>])</li>
<li>variant_type (<code>str</code>)</li>
<li>variant_key (<code>str</code>)</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="../types/#iprvariant">IprVariant</a></li>
</ul>
<h2 id="select_expression_plots">select_expression_plots()</h2>
<p>Given the list of expression variants, determine which expression
historgram plots should be included in the IPR upload. This filters them
based on the graphkb annotations to avoid loading more images than are required</p>
<pre><code class="python">def select_expression_plots(
    kb_matches: List[KbMatch], all_variants: List[IprVariant]
) -&gt; List[Dict[str, ImageDefinition]]:
</code></pre>

<p><strong>Args</strong></p>
<ul>
<li>kb_matches (List[<a href="../types/#class-kbmatch">KbMatch</a>]): the IPR graphkb annoations for all variants</li>
<li>all_variants (List[<a href="../types/#iprvariant">IprVariant</a>])</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li>List[Dict[<code>str</code>, <a href="../types/#class-imagedefinition">ImageDefinition</a>]]: list of expression images to be loaded by IPR</li>
</ul>
<h2 id="create_key_alterations">create_key_alterations()</h2>
<p>Creates the list of genomic key alterations which summarizes all the variants matched by the KB
This list of matches is also used to create the variant counts</p>
<pre><code class="python">def create_key_alterations(
    kb_matches: List[KbMatch], all_variants: List[IprVariant],
) -&gt; Tuple[List[Dict], Dict]:
</code></pre>

<p><strong>Args</strong></p>
<ul>
<li>kb_matches (List[<a href="../types/#class-kbmatch">KbMatch</a>])</li>
<li>all_variants (List[<a href="../types/#iprvariant">IprVariant</a>])</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><code>Tuple[List[Dict], Dict]</code></li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../inputs/" title="ipr.inputs" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ipr.inputs
              </div>
            </div>
          </a>
        
        
          <a href="../main/" title="ipr.main" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                ipr.main
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/vendor.c3dc8c49.min.js"></script>
      <script src="../../../assets/javascripts/bundle.f9edbbd5.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../../..",
          features: [],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.8e2cddea.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>